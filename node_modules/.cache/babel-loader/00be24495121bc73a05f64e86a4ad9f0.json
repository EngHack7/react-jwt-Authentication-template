{"ast":null,"code":"import React from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\"; // const endpoint = \"http://localhost:5000\";\n\nclass AuthService {\n  constructor(props) {\n    this.register = this.register.bind(this);\n  }\n\n  login(email, password) {\n    return axios.post(\"/signin\", {\n      email: email,\n      password: password\n    }).then(user => {\n      localStorage.setItem(\"user\", user.data);\n      console.log(user);\n      return user;\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  logout() {\n    localStorage.removeItem('user');\n  }\n\n  register(form) {\n    return axios.post('register', {\n      form\n    });\n  }\n\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem('user'));\n  }\n\n}\n\nexport default AuthService;","map":{"version":3,"sources":["C:/Users/Eng_hack/Desktop/projects/react-jwt/client/src/component/shared/auth.js"],"names":["React","axios","useHistory","AuthService","constructor","props","register","bind","login","email","password","post","then","user","localStorage","setItem","data","console","log","catch","error","logout","removeItem","form","getCurrentUser","JSON","parse","getItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B,C,CACA;;AAGA,MAAMC,WAAN,CAAiB;AACfC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAGjB,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACD;;AAEDC,EAAAA,KAAK,CAACC,KAAD,EAAOC,QAAP,EAAgB;AACpB,WAAOT,KAAK,CACVU,IADK,CACA,SADA,EACW;AAAEF,MAAAA,KAAK,EAAEA,KAAT;AAAgBC,MAAAA,QAAQ,EAAEA;AAA1B,KADX,EAELE,IAFK,CAECC,IAAD,IAAU;AACdC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4BF,IAAI,CAACG,IAAjC;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACA,aAAOA,IAAP;AACD,KANK,EAOLM,KAPK,CAOEC,KAAD,IAAW;AAChBH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,KATK,CAAP;AAUA;;AAEDC,EAAAA,MAAM,GAAE;AAACP,IAAAA,YAAY,CAACQ,UAAb,CAAwB,MAAxB;AAAiC;;AAE1ChB,EAAAA,QAAQ,CAACiB,IAAD,EAAM;AACZ,WAAOtB,KAAK,CAACU,IAAN,CAAW,UAAX,EAAsB;AAACY,MAAAA;AAAD,KAAtB,CAAP;AACD;;AAEDC,EAAAA,cAAc,GAAE;AACd,WAAOC,IAAI,CAACC,KAAL,CAAWZ,YAAY,CAACa,OAAb,CAAqB,MAArB,CAAX,CAAP;AACD;;AA5Bc;;AA+BjB,eAAexB,WAAf","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// const endpoint = \"http://localhost:5000\";\r\n\r\n\r\nclass AuthService{\r\n  constructor(props) {\r\n    \r\n  \r\n    this.register = this.register.bind(this)\r\n  }\r\n  \r\n  login(email,password){\r\n   return axios\r\n    .post(\"/signin\", { email: email, password: password })\r\n    .then((user) => {\r\n      localStorage.setItem(\"user\",user.data);\r\n      console.log(user);\r\n      return user;\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  logout(){localStorage.removeItem('user');}\r\n\r\n  register(form){\r\n    return axios.post('register',{form})\r\n  }\r\n\r\n  getCurrentUser(){\r\n    return JSON.parse(localStorage.getItem('user'))\r\n  }\r\n\r\n}\r\nexport default AuthService;\r\n\r\n"]},"metadata":{},"sourceType":"module"}